<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_2.dtd'>
<nta>
	<declaration>// Place global declarations here.
const int N = 8;
typedef int[0,N-1] t_id;

chan checkIn1[N], checkIn2[N];

chan B_forward, B_stop, B_reverse, B_backward, 
     A_forward, A_stop, A_reverse, A_backward,
     C_forward, C_stop, C_reverse, C_backward, 
     S1_activate,  S2_activate,
     S1_passivate, S2_passivate, 
     S1_sense,     S2_sense;


urgent broadcast chan go;

clock lastCheckinA, lastCheckinB;

bool run1, run2, lightOn1, lightOn2, fwd;

const int stopPos = 12;
const int B_rest = 24 - stopPos;

//C-values are values returned to the controller by the sensor, S-values are values placed there by the bag (physicalModel)
int S1_val, S2_val, 
    C1_val, C2_val;</declaration>
	<template>
		<name>Bag</name>
		<parameter>t_id id</parameter>
		<declaration>clock x;
bool dir;

bool isBlack() { return id % 2 == 0; }</declaration>
		<location id="id0" x="-238" y="-918">
			<committed/>
		</location>
		<location id="id1" x="-578" y="-918">
			<committed/>
		</location>
		<location id="id2" x="-408" y="136" color="#ffffff">
			<committed/>
		</location>
		<location id="id3" x="-238" y="-782" color="#ffffff">
			<committed/>
		</location>
		<location id="id4" x="-578" y="-782" color="#ffffff">
			<committed/>
		</location>
		<location id="id5" x="-408" y="204" color="#ff0000">
			<name x="-382" y="212">Error</name>
		</location>
		<location id="id6" x="-238" y="-646" color="#a9a9a9">
			<label kind="invariant" x="-306" y="-620">x&lt;=14</label>
		</location>
		<location id="id7" x="-238" y="-850" color="#a9a9a9">
			<label kind="invariant" x="-306" y="-833">x&lt;=2</label>
		</location>
		<location id="id8" x="-578" y="-645" color="#a9a9a9">
			<label kind="invariant" x="-544" y="-620">x&lt;=14</label>
		</location>
		<location id="id9" x="-578" y="-849" color="#a9a9a9">
			<label kind="invariant" x="-544" y="-833">x&lt;=2</label>
		</location>
		<location id="id10" x="-714" y="-306" color="#ffa500">
			<name x="-731" y="-289">Stop1</name>
		</location>
		<location id="id11" x="-102" y="-408" color="#ffffff">
			<committed/>
		</location>
		<location id="id12" x="-714" y="-408" color="#ffffff">
			<committed/>
		</location>
		<location id="id13" x="-102" y="-306" color="#ffa500">
			<name x="-119" y="-289">Stop2</name>
		</location>
		<location id="id14" x="-102" y="0" color="#ffffff">
			<committed/>
		</location>
		<location id="id15" x="-714" y="0" color="#ffffff">
			<committed/>
		</location>
		<location id="id16" x="-578" y="-68" color="#ffffff">
			<committed/>
		</location>
		<location id="id17" x="-408" y="0" color="#ffffff">
			<committed/>
		</location>
		<location id="id18" x="-238" y="-68" color="#ffffff">
			<committed/>
		</location>
		<location id="id19" x="-408" y="-918">
			<name x="-425" y="-901">Initial</name>
		</location>
		<location id="id20" x="0" y="-68" color="#00ff00">
			<name x="25" y="-59">Dest_B</name>
		</location>
		<location id="id21" x="-238" y="-136" color="#ffffff">
			<committed/>
		</location>
		<location id="id22" x="-578" y="-136" color="#ffffff">
			<committed/>
		</location>
		<location id="id23" x="-816" y="-68" color="#00ff00">
			<name x="-892" y="-59">Dest_A</name>
		</location>
		<location id="id24" x="-238" y="-544" color="#a9a9a9">
			<name x="-297" y="-561">A2</name>
			<label kind="invariant" x="-323" y="-543">x&lt;=16</label>
		</location>
		<location id="id25" x="-578" y="-544" color="#a9a9a9">
			<name x="-535" y="-561">A1</name>
			<label kind="invariant" x="-544" y="-544">x&lt;=16</label>
		</location>
		<location id="id26" x="-238" y="0">
			<name x="-246" y="17">D2</name>
			<label kind="invariant" x="-255" y="34">x&lt;=24</label>
		</location>
		<location id="id27" x="-578" y="1">
			<name x="-586" y="18">D1</name>
			<label kind="invariant" x="-595" y="35">x&lt;=24</label>
		</location>
		<location id="id28" x="-714" y="-68">
			<name x="-722" y="17">E1</name>
			<label kind="invariant" x="-731" y="34">x&lt;=12</label>
		</location>
		<location id="id29" x="-102" y="-68">
			<name x="-110" y="17">E2</name>
			<label kind="invariant" x="-119" y="34">x&lt;=12</label>
		</location>
		<location id="id30" x="-238" y="-238">
			<name x="-297" y="-255">C2</name>
			<label kind="invariant" x="-306" y="-238">x&lt;28</label>
		</location>
		<location id="id31" x="-578" y="-238">
			<name x="-535" y="-256">C1</name>
			<label kind="invariant" x="-544" y="-239">x&lt;28</label>
		</location>
		<location id="id32" x="-408" y="-68">
			<name x="-416" y="17">F</name>
			<label kind="invariant" x="-425" y="34">x&lt;=33</label>
		</location>
		<location id="id33" x="-238" y="-409">
			<name x="-297" y="-408">B2</name>
			<label kind="invariant" x="-306" y="-391">x&lt;=24</label>
		</location>
		<location id="id34" x="-578" y="-408">
			<name x="-535" y="-408">B1</name>
			<label kind="invariant" x="-544" y="-391">x&lt;=24</label>
		</location>
		<init ref="id19"/>
		<transition>
			<source ref="id31"/>
			<target ref="id5"/>
			<label kind="guard" x="-688" y="-229">fwd != dir</label>
			<label kind="synchronisation" x="-714" y="-229">go!</label>
			<nail x="-612" y="-204"/>
			<nail x="-918" y="-204"/>
			<nail x="-918" y="204"/>
		</transition>
		<transition>
			<source ref="id30"/>
			<target ref="id5"/>
			<label kind="guard" x="-161" y="-229">fwd != dir</label>
			<label kind="synchronisation" x="-187" y="-229">go!</label>
			<nail x="-204" y="-204"/>
			<nail x="102" y="-204"/>
			<nail x="102" y="204"/>
		</transition>
		<transition>
			<source ref="id0"/>
			<target ref="id7"/>
			<label kind="synchronisation" x="-221" y="-884">S2_sense!</label>
			<label kind="assignment" x="-221" y="-901">S2_val = 65</label>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id9"/>
			<label kind="synchronisation" x="-680" y="-884">S1_sense!</label>
			<label kind="assignment" x="-680" y="-901">S1_val = 65</label>
		</transition>
		<transition>
			<source ref="id15"/>
			<target ref="id5"/>
			<label kind="guard" x="-603" y="144">lastCheckinA &lt; 14 &amp;&amp; fwd</label>
			<nail x="-603" y="170"/>
			<nail x="-408" y="170"/>
		</transition>
		<transition>
			<source ref="id14"/>
			<target ref="id5"/>
			<label kind="guard" x="-391" y="144">lastCheckinB &lt; 14 &amp;&amp; !fwd</label>
			<nail x="-204" y="170"/>
			<nail x="-408" y="170"/>
		</transition>
		<transition>
			<source ref="id12"/>
			<target ref="id5"/>
			<label kind="guard" x="-790" y="-467">x&gt;stopPos</label>
			<nail x="-714" y="-442"/>
			<nail x="-918" y="-442"/>
			<nail x="-918" y="204"/>
		</transition>
		<transition>
			<source ref="id11"/>
			<target ref="id5"/>
			<label kind="guard" x="-85" y="-467">x&gt;stopPos</label>
			<nail x="-102" y="-442"/>
			<nail x="102" y="-442"/>
			<nail x="102" y="204"/>
		</transition>
		<transition>
			<source ref="id2"/>
			<target ref="id5"/>
		</transition>
		<transition>
			<source ref="id32"/>
			<target ref="id2"/>
			<label kind="guard" x="-425" y="102">dir != fwd</label>
			<label kind="synchronisation" x="-450" y="102">go!</label>
			<nail x="-476" y="-34"/>
			<nail x="-476" y="136"/>
		</transition>
		<transition>
			<source ref="id28"/>
			<target ref="id2"/>
			<label kind="guard" x="-425" y="102">dir != fwd</label>
			<label kind="synchronisation" x="-450" y="102">go!</label>
			<nail x="-578" y="136"/>
		</transition>
		<transition>
			<source ref="id27"/>
			<target ref="id2"/>
			<label kind="guard" x="-425" y="102">dir != fwd</label>
			<label kind="synchronisation" x="-450" y="102">go!</label>
			<nail x="-476" y="136"/>
		</transition>
		<transition>
			<source ref="id26"/>
			<target ref="id2"/>
			<label kind="guard" x="-425" y="102">dir != fwd</label>
			<label kind="synchronisation" x="-450" y="102">go!</label>
			<nail x="-340" y="136"/>
		</transition>
		<transition>
			<source ref="id29"/>
			<target ref="id2"/>
			<label kind="guard" x="-425" y="102">dir != fwd</label>
			<label kind="synchronisation" x="-450" y="102">go!</label>
			<nail x="-238" y="136"/>
		</transition>
		<transition>
			<source ref="id31"/>
			<target ref="id5"/>
			<label kind="guard" x="-484" y="178">!run1</label>
			<label kind="synchronisation" x="-509" y="178">go!</label>
			<nail x="-918" y="-238"/>
			<nail x="-918" y="204"/>
		</transition>
		<transition>
			<source ref="id12"/>
			<target ref="id5"/>
			<label kind="guard" x="-790" y="-433">x&lt;stopPos</label>
			<nail x="-918" y="-408"/>
			<nail x="-918" y="204"/>
		</transition>
		<transition>
			<source ref="id25"/>
			<target ref="id5"/>
			<label kind="guard" x="-484" y="178">!run1</label>
			<label kind="synchronisation" x="-509" y="178">go!</label>
			<nail x="-918" y="-544"/>
			<nail x="-918" y="204"/>
		</transition>
		<transition>
			<source ref="id8"/>
			<target ref="id5"/>
			<label kind="guard" x="-484" y="178">!run1</label>
			<label kind="synchronisation" x="-509" y="178">go!</label>
			<nail x="-918" y="-646"/>
			<nail x="-918" y="204"/>
		</transition>
		<transition>
			<source ref="id9"/>
			<target ref="id5"/>
			<label kind="guard" x="-484" y="178">!run1</label>
			<label kind="synchronisation" x="-509" y="178">go!</label>
			<nail x="-918" y="-850"/>
			<nail x="-918" y="204"/>
		</transition>
		<transition>
			<source ref="id30"/>
			<target ref="id5"/>
			<label kind="guard" x="-348" y="178">!run2</label>
			<label kind="synchronisation" x="-373" y="178">go!</label>
			<nail x="102" y="-238"/>
			<nail x="102" y="204"/>
		</transition>
		<transition>
			<source ref="id11"/>
			<target ref="id5"/>
			<label kind="guard" x="-85" y="-433">x&lt;stopPos</label>
			<nail x="102" y="-408"/>
			<nail x="102" y="204"/>
		</transition>
		<transition>
			<source ref="id24"/>
			<target ref="id5"/>
			<label kind="guard" x="-348" y="178">!run2</label>
			<label kind="synchronisation" x="-373" y="178">go!</label>
			<nail x="102" y="-544"/>
			<nail x="102" y="204"/>
		</transition>
		<transition>
			<source ref="id6"/>
			<target ref="id5"/>
			<label kind="guard" x="-348" y="178">!run2</label>
			<label kind="synchronisation" x="-373" y="178">go!</label>
			<nail x="102" y="-646"/>
			<nail x="102" y="204"/>
		</transition>
		<transition>
			<source ref="id7"/>
			<target ref="id5"/>
			<label kind="guard" x="-348" y="178">!run2</label>
			<label kind="synchronisation" x="-373" y="178">go!</label>
			<nail x="102" y="-850"/>
			<nail x="102" y="204"/>
		</transition>
		<transition>
			<source ref="id7"/>
			<target ref="id3"/>
			<label kind="guard" x="-306" y="-816">x==2</label>
		</transition>
		<transition>
			<source ref="id9"/>
			<target ref="id4"/>
			<label kind="guard" x="-544" y="-816">x==2</label>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id6"/>
			<label kind="guard" x="-161" y="-748">!isBlack()</label>
			<label kind="synchronisation" x="-161" y="-714">S2_sense!</label>
			<label kind="assignment" x="-161" y="-731">S2_val = 55</label>
			<nail x="-170" y="-782"/>
			<nail x="-170" y="-680"/>
		</transition>
		<transition>
			<source ref="id4"/>
			<target ref="id8"/>
			<label kind="guard" x="-748" y="-748">isBlack()</label>
			<label kind="synchronisation" x="-748" y="-714">S1_sense!</label>
			<label kind="assignment" x="-748" y="-731">S1_val = 40</label>
			<nail x="-646" y="-782"/>
			<nail x="-646" y="-680"/>
		</transition>
		<transition>
			<source ref="id6"/>
			<target ref="id24"/>
			<label kind="guard" x="-306" y="-603">x==14</label>
			<label kind="synchronisation" x="-221" y="-603">S2_sense!</label>
			<label kind="assignment" x="-221" y="-620">S2_val = 65</label>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id6"/>
			<label kind="guard" x="-348" y="-748">isBlack()</label>
			<label kind="synchronisation" x="-348" y="-714">S2_sense!</label>
			<label kind="assignment" x="-348" y="-731">S2_val = 40</label>
		</transition>
		<transition>
			<source ref="id8"/>
			<target ref="id25"/>
			<label kind="guard" x="-544" y="-603">x==14</label>
			<label kind="synchronisation" x="-671" y="-603">S1_sense!</label>
			<label kind="assignment" x="-671" y="-620">S1_val = 65</label>
		</transition>
		<transition>
			<source ref="id4"/>
			<target ref="id8"/>
			<label kind="guard" x="-561" y="-748">!isBlack()</label>
			<label kind="synchronisation" x="-561" y="-714">S1_sense!</label>
			<label kind="assignment" x="-561" y="-731">S1_val = 55</label>
			<nail x="-578" y="-765"/>
		</transition>
		<transition>
			<source ref="id10"/>
			<target ref="id34"/>
			<label kind="guard" x="-654" y="-348">run1</label>
			<label kind="synchronisation" x="-680" y="-348">go!</label>
			<label kind="assignment" x="-688" y="-331">x:=stopPos</label>
			<nail x="-612" y="-306"/>
		</transition>
		<transition>
			<source ref="id34"/>
			<target ref="id12"/>
			<label kind="guard" x="-654" y="-433">!run1</label>
			<label kind="synchronisation" x="-679" y="-433">go!</label>
		</transition>
		<transition>
			<source ref="id12"/>
			<target ref="id10"/>
			<label kind="guard" x="-799" y="-365">x==stopPos</label>
		</transition>
		<transition>
			<source ref="id11"/>
			<target ref="id13"/>
			<label kind="guard" x="-85" y="-365">x==stopPos</label>
		</transition>
		<transition>
			<source ref="id13"/>
			<target ref="id33"/>
			<label kind="guard" x="-170" y="-348">run2</label>
			<label kind="synchronisation" x="-195" y="-348">go!</label>
			<label kind="assignment" x="-195" y="-331">x:=stopPos</label>
			<nail x="-204" y="-306"/>
		</transition>
		<transition>
			<source ref="id33"/>
			<target ref="id11"/>
			<label kind="guard" x="-170" y="-433">!run2</label>
			<label kind="synchronisation" x="-196" y="-433">go!</label>
		</transition>
		<transition>
			<source ref="id15"/>
			<target ref="id23"/>
			<label kind="guard" x="-875" y="-25">fwd &amp;&amp; 

lastCheckinA &gt;= 14</label>
			<label kind="assignment" x="-875" y="34">lastCheckinA = 0</label>
			<nail x="-816" y="0"/>
		</transition>
		<transition>
			<source ref="id14"/>
			<target ref="id20"/>
			<label kind="guard" x="-59" y="-25">!fwd &amp;&amp; 

lastCheckinB &gt;= 14</label>
			<label kind="assignment" x="-59" y="34">lastCheckinB = 0</label>
			<nail x="0" y="0"/>
		</transition>
		<transition>
			<source ref="id14"/>
			<target ref="id26"/>
			<label kind="guard" x="-178" y="-25">fwd</label>
		</transition>
		<transition>
			<source ref="id29"/>
			<target ref="id14"/>
			<label kind="guard" x="-119" y="51">x&gt;=10</label>
			<label kind="assignment" x="-119" y="68">x:=0</label>
		</transition>
		<transition>
			<source ref="id15"/>
			<target ref="id27"/>
			<label kind="guard" x="-663" y="-24">!fwd</label>
		</transition>
		<transition>
			<source ref="id17"/>
			<target ref="id26"/>
			<label kind="guard" x="-314" y="-25">!fwd</label>
		</transition>
		<transition>
			<source ref="id17"/>
			<target ref="id27"/>
			<label kind="guard" x="-518" y="-24">fwd</label>
		</transition>
		<transition>
			<source ref="id18"/>
			<target ref="id29"/>
			<label kind="guard" x="-178" y="-68">!fwd</label>
		</transition>
		<transition>
			<source ref="id18"/>
			<target ref="id32"/>
			<label kind="guard" x="-314" y="-59">fwd</label>
		</transition>
		<transition>
			<source ref="id16"/>
			<target ref="id28"/>
			<label kind="guard" x="-663" y="-68">fwd</label>
		</transition>
		<transition>
			<source ref="id16"/>
			<target ref="id32"/>
			<label kind="guard" x="-518" y="-67">!fwd</label>
		</transition>
		<transition>
			<source ref="id28"/>
			<target ref="id15"/>
			<label kind="guard" x="-731" y="52">x&gt;=10</label>
			<label kind="assignment" x="-731" y="69">x:=0</label>
		</transition>
		<transition>
			<source ref="id27"/>
			<target ref="id16"/>
			<label kind="guard" x="-595" y="52">x&gt;=23</label>
			<label kind="assignment" x="-595" y="69">x:=0</label>
		</transition>
		<transition>
			<source ref="id32"/>
			<target ref="id17"/>
			<label kind="guard" x="-425" y="51">x&gt;=27</label>
			<label kind="assignment" x="-425" y="68">x:=0</label>
		</transition>
		<transition>
			<source ref="id26"/>
			<target ref="id18"/>
			<label kind="guard" x="-255" y="51">x&gt;=23</label>
			<label kind="assignment" x="-255" y="68">x:=0</label>
		</transition>
		<transition>
			<source ref="id19"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="-357" y="-943">checkIn2[id]?</label>
			<label kind="assignment" x="-331" y="-918">x:=0</label>
			<nail x="-255" y="-918"/>
		</transition>
		<transition>
			<source ref="id19"/>
			<target ref="id1"/>
			<label kind="synchronisation" x="-527" y="-943">checkIn1[id]?</label>
			<label kind="assignment" x="-501" y="-918">x:=0</label>
			<nail x="-544" y="-918"/>
		</transition>
		<transition>
			<source ref="id30"/>
			<target ref="id21"/>
			<label kind="guard" x="-306" y="-221">x&gt;=24</label>
			<label kind="assignment" x="-306" y="-204">x:=0</label>
		</transition>
		<transition>
			<source ref="id31"/>
			<target ref="id22"/>
			<label kind="guard" x="-544" y="-221">x&gt;=24</label>
			<label kind="assignment" x="-544" y="-204">x:=0</label>
		</transition>
		<transition>
			<source ref="id24"/>
			<target ref="id33"/>
			<label kind="guard" x="-323" y="-527">x&gt;=16</label>
			<label kind="synchronisation" x="-323" y="-476">S2_sense!</label>
			<label kind="assignment" x="-323" y="-510">x:=0,
S2_val = 75</label>
		</transition>
		<transition>
			<source ref="id25"/>
			<target ref="id34"/>
			<label kind="guard" x="-544" y="-527">x&gt;=16</label>
			<label kind="synchronisation" x="-544" y="-476">S1_sense!</label>
			<label kind="assignment" x="-544" y="-510">x:=0,
S1_val = 75</label>
		</transition>
		<transition>
			<source ref="id22"/>
			<target ref="id28"/>
			<label kind="guard" x="-663" y="-109">fwd</label>
			<nail x="-578" y="-101"/>
		</transition>
		<transition>
			<source ref="id21"/>
			<target ref="id29"/>
			<label kind="guard" x="-178" y="-110">!fwd</label>
			<nail x="-238" y="-102"/>
		</transition>
		<transition>
			<source ref="id22"/>
			<target ref="id32"/>
			<label kind="guard" x="-518" y="-109">!fwd</label>
			<nail x="-578" y="-101"/>
		</transition>
		<transition>
			<source ref="id21"/>
			<target ref="id32"/>
			<label kind="guard" x="-314" y="-110">fwd</label>
			<nail x="-238" y="-102"/>
		</transition>
		<transition>
			<source ref="id33"/>
			<target ref="id30"/>
			<label kind="guard" x="-306" y="-374">x&gt;=24</label>
			<label kind="assignment" x="-306" y="-357">x:=0,
dir:=fwd</label>
		</transition>
		<transition>
			<source ref="id34"/>
			<target ref="id31"/>
			<label kind="guard" x="-544" y="-374">x&gt;=24</label>
			<label kind="assignment" x="-544" y="-357">x:=0,
dir:=fwd</label>
		</transition>
	</template>
	<template>
		<name>Sensor</name>
		<parameter>int &amp;SVal, int&amp;CVal, bool &amp;lightOn, chan &amp;sense, chan &amp;activate, chan &amp;deactivate</parameter>
		<location id="id35" x="-204" y="0">
			<name x="-221" y="-51">Active</name>
		</location>
		<location id="id36" x="-442" y="0">
			<name x="-467" y="-51">Passive</name>
		</location>
		<init ref="id36"/>
		<transition>
			<source ref="id36"/>
			<target ref="id36"/>
			<label kind="synchronisation" x="-586" y="-25">sense?</label>
			<nail x="-510" y="-34"/>
			<nail x="-510" y="34"/>
		</transition>
		<transition>
			<source ref="id35"/>
			<target ref="id36"/>
			<label kind="synchronisation" x="-357" y="8">deactivate?</label>
			<label kind="assignment" x="-365" y="34">lightOn:=false</label>
			<nail x="-238" y="34"/>
			<nail x="-408" y="34"/>
		</transition>
		<transition>
			<source ref="id36"/>
			<target ref="id35"/>
			<label kind="synchronisation" x="-348" y="-59">activate?</label>
			<label kind="assignment" x="-365" y="-34">lightOn:=true</label>
			<nail x="-408" y="-34"/>
			<nail x="-238" y="-34"/>
		</transition>
		<transition>
			<source ref="id35"/>
			<target ref="id35"/>
			<label kind="synchronisation" x="-119" y="-25">sense?</label>
			<label kind="assignment" x="-119" y="0">CVal:=SVal</label>
			<nail x="-136" y="-34"/>
			<nail x="-136" y="34"/>
		</transition>
	</template>
	<template>
		<name>LightSensor</name>
		<parameter>chan &amp;activate, chan &amp;passivate, chan &amp;readValue, bool &amp;light, int &amp;input, int&amp;output</parameter>
		<location id="id37" x="-136" y="-68">
			<name x="-153" y="-119">Active</name>
		</location>
		<location id="id38" x="-306" y="-68">
			<name x="-331" y="-119">Passive</name>
		</location>
		<init ref="id38"/>
		<transition>
			<source ref="id38"/>
			<target ref="id38"/>
			<label kind="synchronisation" x="-340" y="-17">readValue?</label>
			<nail x="-272" y="-17"/>
			<nail x="-340" y="-17"/>
		</transition>
		<transition>
			<source ref="id37"/>
			<target ref="id37"/>
			<label kind="synchronisation" x="-119" y="-93">activate?</label>
			<nail x="-68" y="-68"/>
			<nail x="-102" y="-34"/>
		</transition>
		<transition>
			<source ref="id38"/>
			<target ref="id38"/>
			<label kind="synchronisation" x="-391" y="-93">passivate?</label>
			<nail x="-340" y="-34"/>
			<nail x="-374" y="-68"/>
		</transition>
		<transition>
			<source ref="id37"/>
			<target ref="id38"/>
			<label kind="synchronisation" x="-255" y="-60">passivate?</label>
			<label kind="assignment" x="-255" y="-34">light:=false</label>
			<nail x="-170" y="-34"/>
			<nail x="-272" y="-34"/>
		</transition>
		<transition>
			<source ref="id38"/>
			<target ref="id37"/>
			<label kind="synchronisation" x="-246" y="-127">activate?</label>
			<label kind="assignment" x="-255" y="-102">light:=true</label>
			<nail x="-272" y="-102"/>
			<nail x="-170" y="-102"/>
		</transition>
		<transition>
			<source ref="id37"/>
			<target ref="id37"/>
			<label kind="synchronisation" x="-170" y="-17">readValue?</label>
			<label kind="assignment" x="-170" y="0">output:=input</label>
			<nail x="-102" y="-17"/>
			<nail x="-170" y="-17"/>
		</transition>
	</template>
	<template>
		<name>User</name>
		<parameter>bool &amp;lightOn, chan &amp;checkIn[N]</parameter>
		<declaration>int[0,N] id;</declaration>
		<location id="id39" x="-102" y="-102">
		</location>
		<location id="id40" x="-102" y="-34">
			<committed/>
		</location>
		<location id="id41" x="-102" y="68">
		</location>
		<location id="id42" x="-238" y="68">
		</location>
		<init ref="id42"/>
		<transition>
			<source ref="id39"/>
			<target ref="id39"/>
			<nail x="-68" y="-153"/>
			<nail x="-136" y="-153"/>
		</transition>
		<transition>
			<source ref="id40"/>
			<target ref="id39"/>
			<label kind="guard" x="-85" y="-76">id &gt;= N</label>
		</transition>
		<transition>
			<source ref="id40"/>
			<target ref="id41"/>
			<label kind="guard" x="-85" y="-9">id &lt; N</label>
			<label kind="synchronisation" x="-85" y="8">checkIn[id]!</label>
			<label kind="assignment" x="-85" y="25">id := id + 1</label>
		</transition>
		<transition>
			<source ref="id41"/>
			<target ref="id42"/>
			<label kind="guard" x="-178" y="42">!lightOn</label>
			<label kind="synchronisation" x="-204" y="42">go!</label>
		</transition>
		<transition>
			<source ref="id42"/>
			<target ref="id40"/>
			<label kind="guard" x="-178" y="-59">lightOn</label>
			<label kind="synchronisation" x="-204" y="-59">go!</label>
			<nail x="-238" y="-34"/>
		</transition>
	</template>
	<template>
		<name>UserWithSep</name>
		<parameter>const int sep, chan &amp;checkIn[N]</parameter>
		<declaration>clock x;
int id;</declaration>
		<location id="id43" x="68" y="34">
			<label kind="invariant" x="85" y="-8">x&lt;=sep</label>
		</location>
		<location id="id44" x="170" y="-136">
		</location>
		<location id="id45" x="170" y="-68">
			<committed/>
		</location>
		<init ref="id43"/>
		<transition>
			<source ref="id43"/>
			<target ref="id45"/>
			<label kind="guard" x="85" y="-25">x&gt;=sep</label>
			<label kind="assignment" x="85" y="-42">x:=0</label>
			<nail x="68" y="-68"/>
		</transition>
		<transition>
			<source ref="id44"/>
			<target ref="id44"/>
			<nail x="204" y="-187"/>
			<nail x="136" y="-187"/>
		</transition>
		<transition>
			<source ref="id45"/>
			<target ref="id44"/>
			<label kind="guard" x="187" y="-110">id &gt;= N</label>
		</transition>
		<transition>
			<source ref="id45"/>
			<target ref="id43"/>
			<label kind="guard" x="187" y="-59">id &lt; N</label>
			<label kind="synchronisation" x="187" y="-42">checkIn[id]!</label>
			<label kind="assignment" x="187" y="-25">id := id + 1</label>
			<nail x="170" y="34"/>
		</transition>
	</template>
	<template>
		<name>UserBothCheckIns</name>
		<parameter>const int sep</parameter>
		<declaration>clock x;
int id;</declaration>
		<location id="id46" x="306" y="204">
			<committed/>
		</location>
		<location id="id47" x="442" y="102">
			<committed/>
		</location>
		<location id="id48" x="204" y="204">
			<label kind="invariant" x="221" y="153">x&lt;=sep</label>
		</location>
		<location id="id49" x="306" y="34">
		</location>
		<location id="id50" x="306" y="102">
			<committed/>
		</location>
		<init ref="id48"/>
		<transition>
			<source ref="id46"/>
			<target ref="id48"/>
			<label kind="assignment" x="221" y="212">id := id + 1</label>
		</transition>
		<transition>
			<source ref="id47"/>
			<target ref="id46"/>
			<label kind="synchronisation" x="340" y="178">checkIn2[id]!</label>
			<nail x="442" y="204"/>
		</transition>
		<transition>
			<source ref="id47"/>
			<target ref="id46"/>
			<label kind="synchronisation" x="340" y="144">checkIn1[id]!</label>
			<nail x="442" y="170"/>
			<nail x="306" y="170"/>
		</transition>
		<transition>
			<source ref="id50"/>
			<target ref="id47"/>
			<label kind="guard" x="357" y="110">id &lt; N</label>
		</transition>
		<transition>
			<source ref="id48"/>
			<target ref="id50"/>
			<label kind="guard" x="221" y="136">x&gt;=sep</label>
			<label kind="assignment" x="221" y="119">x:=0</label>
			<nail x="204" y="102"/>
		</transition>
		<transition>
			<source ref="id49"/>
			<target ref="id49"/>
			<nail x="340" y="-17"/>
			<nail x="272" y="-17"/>
		</transition>
		<transition>
			<source ref="id50"/>
			<target ref="id49"/>
			<label kind="guard" x="323" y="60">id &gt;= N</label>
		</transition>
	</template>
	<template>
		<name>Controller</name>
		<parameter>const int await_valid_color, const int advance_beyond_sensor, const int follow_end_feed_belt, const int wait_long_direction, const int wait_short_direction</parameter>
		<declaration>clock y, z;

bool dirA, destA;

bool isClear (int value) { return value &gt; 70 || value == 0; }
bool isYellow(int value) { return value &gt;= 50 &amp;&amp; value &lt;= 60; }
bool isBlack (int value) { return value &gt;= 35 &amp;&amp; value &lt;= 45; }</declaration>
		<location id="id49" x="-476" y="408">
			<name x="-629" y="433">Wait_End_Dist_Belt</name>
			<label kind="invariant" x="-467" y="365">z&lt;=wait_long_direction</label>
		</location>
		<location id="id52" x="-476" y="272">
			<committed/>
		</location>
		<location id="id53" x="68" y="170">
			<committed/>
		</location>
		<location id="id54" x="68" y="102">
			<committed/>
		</location>
		<location id="id55" x="-68" y="-68">
			<name x="-51" y="-102">Polling_Sensor</name>
		</location>
		<location id="id56" x="-204" y="68">
			<name x="-187" y="42">Follow_End_Feed_Belt</name>
			<label kind="invariant" x="-187" y="17">y&lt;=follow_end_feed_belt</label>
		</location>
		<location id="id57" x="-204" y="171">
			<committed/>
		</location>
		<location id="id58" x="-340" y="272">
			<committed/>
		</location>
		<location id="id59" x="-340" y="408">
			<committed/>
		</location>
		<location id="id60" x="-204" y="408">
			<committed/>
		</location>
		<location id="id61" x="-204" y="272">
			<committed/>
		</location>
		<location id="id62" x="-476" y="-68">
			<committed/>
		</location>
		<location id="id63" x="-340" y="-68">
			<committed/>
		</location>
		<location id="id64" x="-68" y="272">
			<committed/>
		</location>
		<location id="id65" x="68" y="272">
			<name x="93" y="246">Advance_Beyond_Sensor</name>
			<label kind="invariant" x="-17" y="280">y&lt;=advance_beyond_sensor</label>
		</location>
		<location id="id66" x="68" y="0">
			<name x="93" y="-34">Await_Valid_Color</name>
			<label kind="invariant" x="85" y="25">y&lt;=await_valid_color</label>
		</location>
		<location id="id67" x="-204" y="-68">
			<committed/>
		</location>
		<init ref="id62"/>
		<transition>
			<source ref="id51"/>
			<target ref="id52"/>
			<label kind="guard" x="-467" y="348">z==wait_long_direction</label>
		</transition>
		<transition>
			<source ref="id59"/>
			<target ref="id51"/>
			<label kind="guard" x="-416" y="416">z&lt;wait_long_direction</label>
		</transition>
		<transition>
			<source ref="id57"/>
			<target ref="id56"/>
			<label kind="guard" x="-119" y="119">!dirA</label>
			<label kind="assignment" x="-119" y="85">z:=(wait_long_direction-
wait_short_direction)</label>
			<nail x="-136" y="170"/>
			<nail x="-136" y="68"/>
		</transition>
		<transition>
			<source ref="id59"/>
			<target ref="id52"/>
			<label kind="guard" x="-416" y="314">z&gt;=wait_long_direction</label>
			<nail x="-340" y="340"/>
			<nail x="-476" y="340"/>
		</transition>
		<transition>
			<source ref="id53"/>
			<target ref="id65"/>
			<label kind="synchronisation" x="85" y="204">S2_passivate!</label>
			<label kind="assignment" x="85" y="187">destA:=isYellow(C2_val)</label>
		</transition>
		<transition>
			<source ref="id54"/>
			<target ref="id53"/>
			<label kind="synchronisation" x="85" y="119">S2_sense!</label>
		</transition>
		<transition>
			<source ref="id67"/>
			<target ref="id55"/>
			<label kind="synchronisation" x="-178" y="-93">S2_activate!</label>
		</transition>
		<transition>
			<source ref="id56"/>
			<target ref="id67"/>
			<label kind="guard" x="-187" y="0">y==follow_end_feed_belt</label>
		</transition>
		<transition>
			<source ref="id57"/>
			<target ref="id56"/>
			<label kind="guard" x="-314" y="119">dirA</label>
			<label kind="assignment" x="-314" y="101">z:=0</label>
			<nail x="-272" y="170"/>
			<nail x="-272" y="68"/>
		</transition>
		<transition>
			<source ref="id61"/>
			<target ref="id57"/>
			<label kind="assignment" x="-187" y="204">y:=0</label>
		</transition>
		<transition>
			<source ref="id58"/>
			<target ref="id61"/>
			<label kind="synchronisation" x="-306" y="246">B_forward!</label>
		</transition>
		<transition>
			<source ref="id52"/>
			<target ref="id58"/>
			<label kind="synchronisation" x="-442" y="246">C_reverse!</label>
			<label kind="assignment" x="-442" y="272">dirA:=destA</label>
		</transition>
		<transition>
			<source ref="id60"/>
			<target ref="id59"/>
			<label kind="synchronisation" x="-289" y="382">B_stop!</label>
		</transition>
		<transition>
			<source ref="id64"/>
			<target ref="id60"/>
			<label kind="guard" x="-170" y="382">dirA !=destA</label>
			<nail x="-68" y="408"/>
		</transition>
		<transition>
			<source ref="id64"/>
			<target ref="id61"/>
			<label kind="guard" x="-178" y="246">dirA == destA</label>
		</transition>
		<transition>
			<source ref="id62"/>
			<target ref="id63"/>
			<label kind="synchronisation" x="-442" y="-93">B_forward!</label>
			<label kind="assignment" x="-484" y="-51">z:=wait_long_direction</label>
		</transition>
		<transition>
			<source ref="id63"/>
			<target ref="id67"/>
			<label kind="synchronisation" x="-306" y="-93">C_forward!</label>
			<label kind="assignment" x="-306" y="-68">dirA:=true</label>
		</transition>
		<transition>
			<source ref="id65"/>
			<target ref="id64"/>
			<label kind="guard" x="-17" y="297">y==advance_beyond_sensor</label>
		</transition>
		<transition>
			<source ref="id66"/>
			<target ref="id54"/>
			<label kind="guard" x="85" y="42">y==await_valid_color</label>
			<label kind="assignment" x="85" y="59">y:=0</label>
		</transition>
		<transition>
			<source ref="id55"/>
			<target ref="id66"/>
			<label kind="guard" x="110" y="-85">!isClear(C2_val)</label>
			<label kind="synchronisation" x="85" y="-85">go!</label>
			<label kind="assignment" x="85" y="-68">y:=0</label>
			<nail x="68" y="-68"/>
		</transition>
	</template>
	<template>
		<name>Belt</name>
		<parameter>chan &amp;forward, chan &amp;backward, chan &amp;stop, chan &amp;reverse, bool &amp;fwd</parameter>
		<location id="id68" x="-68" y="170">
			<name x="-85" y="187">Stop</name>
		</location>
		<location id="id69" x="34" y="0">
			<name x="25" y="-51">Backward</name>
		</location>
		<location id="id70" x="-170" y="0">
			<name x="-204" y="-51">Forward</name>
		</location>
		<init ref="id68"/>
		<transition>
			<source ref="id68"/>
			<target ref="id68"/>
			<label kind="synchronisation" x="-85" y="238">stop?</label>
			<label kind="assignment" x="-85" y="255">fwd:=false</label>
			<nail x="34" y="238"/>
			<nail x="-170" y="238"/>
		</transition>
		<transition>
			<source ref="id69"/>
			<target ref="id70"/>
			<label kind="synchronisation" x="-178" y="-119">forward?</label>
			<label kind="assignment" x="-68" y="-119">fwd:=true</label>
			<nail x="272" y="-102"/>
			<nail x="-408" y="-102"/>
		</transition>
		<transition>
			<source ref="id70"/>
			<target ref="id69"/>
			<label kind="synchronisation" x="-178" y="-85">backward?</label>
			<label kind="assignment" x="-68" y="-85">fwd:=false</label>
			<nail x="-272" y="-68"/>
			<nail x="136" y="-68"/>
		</transition>
		<transition>
			<source ref="id69"/>
			<target ref="id69"/>
			<label kind="synchronisation" x="51" y="59">backward?</label>
			<nail x="102" y="34"/>
			<nail x="34" y="68"/>
		</transition>
		<transition>
			<source ref="id70"/>
			<target ref="id70"/>
			<label kind="synchronisation" x="-246" y="59">forward?</label>
			<nail x="-238" y="34"/>
			<nail x="-170" y="68"/>
		</transition>
		<transition>
			<source ref="id70"/>
			<target ref="id68"/>
			<label kind="synchronisation" x="-254" y="-17">stop?</label>
			<label kind="assignment" x="-348" y="42">fwd:=false</label>
			<nail x="-272" y="0"/>
			<nail x="-272" y="170"/>
		</transition>
		<transition>
			<source ref="id69"/>
			<target ref="id68"/>
			<label kind="synchronisation" x="85" y="-17">stop?</label>
			<label kind="assignment" x="144" y="42">fwd:=false</label>
			<nail x="136" y="0"/>
			<nail x="136" y="170"/>
		</transition>
		<transition>
			<source ref="id68"/>
			<target ref="id70"/>
			<label kind="synchronisation" x="-170" y="102">forward?</label>
			<label kind="assignment" x="-170" y="119">fwd:=true</label>
		</transition>
		<transition>
			<source ref="id68"/>
			<target ref="id69"/>
			<label kind="synchronisation" x="-25" y="102">backward?</label>
			<label kind="assignment" x="-25" y="119">fwd:=false</label>
		</transition>
		<transition>
			<source ref="id69"/>
			<target ref="id70"/>
			<label kind="synchronisation" x="-102" y="8">reverse?</label>
			<label kind="assignment" x="-102" y="34">fwd:=true</label>
			<nail x="0" y="34"/>
			<nail x="-128" y="34"/>
		</transition>
		<transition>
			<source ref="id70"/>
			<target ref="id69"/>
			<label kind="synchronisation" x="-102" y="-59">reverse?</label>
			<label kind="assignment" x="-102" y="-34">fwd:=false</label>
			<nail x="-136" y="-34"/>
			<nail x="0" y="-34"/>
		</transition>
	</template>
	<template>
		<name>Motor</name>
		<parameter>chan &amp;forward, chan &amp;backward, chan &amp;stop, chan &amp;reverse, bool &amp;fwd</parameter>
		<location id="id71" x="-136" y="0">
			<name x="-153" y="-51">Stop</name>
		</location>
		<location id="id72" x="0" y="0">
			<name x="8" y="-51">Backward</name>
		</location>
		<location id="id73" x="-272" y="0">
			<name x="-331" y="-51">Forward</name>
		</location>
		<init ref="id71"/>
		<transition>
			<source ref="id71"/>
			<target ref="id71"/>
			<label kind="synchronisation" x="-153" y="34">stop?</label>
			<nail x="-110" y="59"/>
			<nail x="-161" y="59"/>
		</transition>
		<transition>
			<source ref="id72"/>
			<target ref="id73"/>
			<label kind="synchronisation" x="-170" y="59">forward?</label>
			<label kind="assignment" x="-170" y="102">fwd:=true</label>
			<nail x="0" y="102"/>
			<nail x="-272" y="102"/>
		</transition>
		<transition>
			<source ref="id73"/>
			<target ref="id72"/>
			<label kind="synchronisation" x="-170" y="-144">backward?</label>
			<label kind="assignment" x="-170" y="-102">fwd:=false</label>
			<nail x="-272" y="-102"/>
			<nail x="0" y="-102"/>
		</transition>
		<transition>
			<source ref="id72"/>
			<target ref="id72"/>
			<label kind="synchronisation" x="17" y="-25">backward?</label>
			<nail x="68" y="0"/>
			<nail x="34" y="34"/>
		</transition>
		<transition>
			<source ref="id73"/>
			<target ref="id73"/>
			<label kind="synchronisation" x="-340" y="-25">forward?</label>
			<nail x="-340" y="0"/>
			<nail x="-306" y="34"/>
		</transition>
		<transition>
			<source ref="id73"/>
			<target ref="id71"/>
			<label kind="synchronisation" x="-221" y="8">stop?</label>
			<label kind="assignment" x="-229" y="34">fwd:=false</label>
			<nail x="-238" y="34"/>
			<nail x="-170" y="34"/>
		</transition>
		<transition>
			<source ref="id72"/>
			<target ref="id71"/>
			<label kind="synchronisation" x="-85" y="8">stop?</label>
			<nail x="-34" y="34"/>
			<nail x="-102" y="34"/>
		</transition>
		<transition>
			<source ref="id71"/>
			<target ref="id73"/>
			<label kind="synchronisation" x="-229" y="-59">forward?</label>
			<label kind="assignment" x="-229" y="-34">fwd:=true</label>
			<nail x="-170" y="-34"/>
			<nail x="-238" y="-34"/>
		</transition>
		<transition>
			<source ref="id71"/>
			<target ref="id72"/>
			<label kind="synchronisation" x="-102" y="-59">backward?</label>
			<nail x="-102" y="-34"/>
			<nail x="-34" y="-34"/>
		</transition>
		<transition>
			<source ref="id72"/>
			<target ref="id73"/>
			<label kind="synchronisation" x="-170" y="76">reverse?</label>
			<label kind="assignment" x="-170" y="102">fwd:=true</label>
			<nail x="0" y="102"/>
			<nail x="-272" y="102"/>
		</transition>
		<transition>
			<source ref="id73"/>
			<target ref="id72"/>
			<label kind="synchronisation" x="-170" y="-127">reverse?</label>
			<label kind="assignment" x="-170" y="-102">fwd:=false</label>
			<nail x="-272" y="-102"/>
			<nail x="0" y="-102"/>
		</transition>
	</template>
	<system>// Place template instantiations here.
//Sensor1 = Sensor(S1_val, C1_val, lightOn1, S1_sense, S1_activate, S1_passivate);
//Sensor2 = Sensor(S2_val, C2_val, lightOn2, S2_sense, S2_activate, S2_passivate);

Sensor1 = LightSensor(S1_activate, S1_passivate, S1_sense, lightOn1, S1_val, C1_val);
Sensor2 = LightSensor(S2_activate, S2_passivate, S2_sense, lightOn2, S2_val, C2_val);

FeedBelt1 = Belt(A_forward, A_backward, A_stop, A_reverse, run1);
FeedBelt2 = Belt(B_forward, B_backward, B_stop, B_reverse, run2);
DistBelt1 = Belt(C_forward, C_backward, C_stop, C_reverse, fwd);

User1 = User(lightOn2, checkIn2);
User2 = UserWithSep(40, checkIn2);
User3 = UserBothCheckIns(40);

Controller1 = Controller(8, 16-8+stopPos, B_rest, 97+B_rest, 40+B_rest);

// List one or more processes to be composed into a system.
system Bag, Controller1, Sensor1, Sensor2, User1, FeedBelt1, FeedBelt2, DistBelt1;
    </system>
	<queries>
		<query>
			<formula>E&lt;&gt; forall(i:t_id) Bag(i).Dest_A or Bag(i).Dest_B
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) Bag(i).E1 imply Bag(i).dir == fwd
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) Bag(i).D1 imply Bag(i).dir == fwd
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) Bag(i).F  imply Bag(i).dir == fwd
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) Bag(i).D2 imply Bag(i).dir == fwd
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) Bag(i).E2 imply Bag(i).dir == fwd
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) Bag(i).C1 imply run1 and Bag(i).dir == fwd
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) Bag(i).C2 imply run2 and Bag(i).dir == fwd
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>E&lt;&gt; forall(i:t_id) Bag(i).isBlack() imply Bag(i).Dest_B
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>E&lt;&gt; forall(i:t_id) !Bag(i).isBlack() imply Bag(i).Dest_A
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) Bag(i).Dest_B imply Bag(i).isBlack()
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) Bag(i).Dest_A imply !Bag(i).isBlack()
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) !Bag(i).Error
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] not deadlock
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) Bag(i).C2 and !Bag(i).isBlack() imply fwd
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) Bag(i).C2 and  Bag(i).isBlack() imply !fwd
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) Bag(i).C2 imply run2
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) forall(j:t_id) Bag(i).A2 &amp;&amp; Bag(j).A2 imply i == j
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) forall(j:t_id) Bag(i).B2 &amp;&amp; Bag(j).B2 imply i == j
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) forall(j:t_id) Bag(i).C2 &amp;&amp; Bag(j).C2 imply i == j
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) forall(j:t_id) Bag(i).D1 &amp;&amp; Bag(j).D1 imply i == j
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) forall(j:t_id) Bag(i).D2 &amp;&amp; Bag(j).D2 imply i == j
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) forall(j:t_id) Bag(i).E1 &amp;&amp; Bag(j).E1 imply i == j
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) forall(j:t_id) Bag(i).E2 &amp;&amp; Bag(j).E2 imply i == j
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) forall(j:t_id) Bag(i).C1 &amp;&amp; Bag(j).D1 imply i == j
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) forall(j:t_id) Bag(i).C2 &amp;&amp; Bag(j).D2 imply i == j
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] forall(i:t_id) forall(j:t_id) Bag(i).F  &amp;&amp; Bag(j).F  imply i == j
			</formula>
			<comment>
			</comment>
		</query>
	</queries>
</nta>
